---
import MainLayout from "../layouts/main.astro";
import { baseUrl } from "../lib/base-url";

const pageClass = "contact";
const title = "Contact Us | Sustainable Talent";
const description =
  "Get in touch with Sustainable Talent to discuss your talent operations needs. Schedule a call or send us a message.";
const ogImage = "https://sustainabletalent.com/og-contact.jpg";
const canonicalUrl = "https://sustainabletalent.com/contact";
---

<MainLayout
  pageClass={pageClass}
  title={title}
  description={description}
  ogImage={ogImage}
  canonicalUrl={canonicalUrl}
>
  <!-- HERO -->
  <header class="hero">
    <div class="container">
      <div class="hero-content reveal">
        <div class="pill">Get in Touch</div>
        <h1>Let's talk about your talent operations</h1>
        <p class="subhead">
          Whether you're exploring TalentOS™ or ready to transform your
          contractor and recruiting engine, we're here to help.
        </p>
      </div>
    </div>
  </header>

  <!-- CONTACT SECTION -->
  <section class="section">
    <div class="container">
      <div class="contact-grid">
        <!-- Contact Form -->
        <div class="contact-form-wrapper reveal">
          <h2>Send us a message</h2>
          <p class="form-intro">
            Fill out the form below and we'll get back to you within 24 hours.
          </p>

          <form class="contact-form" id="hubspotForm">
            <div class="form-row">
              <div class="form-group">
                <label for="firstname">First Name *</label>
                <input
                  type="text"
                  id="firstname"
                  name="firstname"
                  required
                  placeholder="John"
                />
              </div>
              <div class="form-group">
                <label for="email">Email *</label>
                <input
                  type="email"
                  id="email"
                  name="email"
                  required
                  placeholder="john@example.com"
                />
              </div>
            </div>

            <div class="form-group">
              <label for="company">Company Name *</label>
              <input
                type="text"
                id="company"
                name="company"
                required
                placeholder="Acme Corp"
              />
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="what_do_you_need_">What do you need? *</label>
                <select id="what_do_you_need_" name="what_do_you_need_" required>
                  <option value="" disabled selected>Select an option...</option>
                  <option value="Contractors">Contractors</option>
                  <option value="Recruiting">Recruiting</option>
                  <option value="Both">Both</option>
                </select>
              </div>

              <div class="form-group">
                <label for="us_only_or_global">US only or Global? *</label>
                <select id="us_only_or_global" name="us_only_or_global" required>
                  <option value="" disabled selected>Select an option...</option>
                  <option value="US only">US only</option>
                  <option value="Global">Global</option>
                </select>
              </div>
            </div>

            <button type="submit" class="btn primary submit-btn">
              Submit
            </button>
            <div id="formStatus" style="display: none; text-align: center; margin-top: 10px;"></div>
          </form>
        </div>

        <!-- Contact Info -->
        <div class="contact-info">
          <div class="info-card reveal">
            <div class="info-icon">
              <svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
              >
                <path
                  d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"></path>
              </svg>
            </div>
            <div class="info-content">
              <h3>Email Us</h3>
              <p>Our team typically responds within 24 hours</p>
              <a href="mailto:talent@sustainabletalent.com"
                >talent@sustainabletalent.com</a
              >
            </div>
          </div>

          <div class="info-card reveal">
            <div class="info-icon">
              <svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
              >
                <path
                  d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"></path>
              </svg>
            </div>
            <div class="info-content">
              <h3>Call Us</h3>
              <p>Monday - Friday, 9AM - 6PM EST</p>
              <a href="tel:+16452022255">+1 (645) 202-2255</a>
            </div>
          </div>

          <div class="info-card reveal">
            <div class="info-icon">
              <svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
              >
                <path
                  d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"></path>
                <circle
                  cx="12"
                  cy="10"
                  r="3"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"></circle>
              </svg>
            </div>
            <div class="info-content">
              <h3>Office</h3>
              <p>
                1200 Brickell Avenue<br />
                Suite 1950 #1170<br />
                Miami, FL 33131
              </p>
            </div>
          </div>

          <div class="info-card reveal">
            <div class="info-icon">
              <svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
              >
                <rect
                  x="2"
                  y="7"
                  width="20"
                  height="14"
                  rx="2"
                  ry="2"
                  stroke-width="2"></rect>
                <path
                  d="M16 21V5a2 2 0 00-2-2h-4a2 2 0 00-2 2v16"
                  stroke-width="2"></path>
              </svg>
            </div>
            <div class="info-content">
              <h3>Client Portal</h3>
              <p>Access TalentOS™ and manage your programs</p>
              <a
                href="https://portal.sustainabletalent.com"
                target="_blank"
                rel="noopener noreferrer"
              >
                portal.sustainabletalent.com
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section class="section light">
    <div class="container">
      <div class="faq-header reveal">
        <p class="kicker">FAQ</p>
        <h2>Common questions</h2>
      </div>

      <div class="faq-grid">
        <div class="faq-item reveal">
          <h3>How quickly can we get started?</h3>
          <p>
            Most clients are onboarded and have their first roles activated
            within 2-3 weeks. Enterprise engagements with custom requirements
            may take 4-6 weeks.
          </p>
        </div>

        <div class="faq-item reveal">
          <h3>What locations do you support?</h3>
          <p>
            We support W2 consultants across the United States via ADP
            TotalSource, and contractors in 150+ countries through our
            partnership with Deel.
          </p>
        </div>

        <div class="faq-item reveal">
          <h3>Do you offer custom pricing?</h3>
          <p>
            Yes. Our pricing is tailored to your program size, complexity, and
            service requirements. Contact us for a custom proposal.
          </p>
        </div>

        <div class="faq-item reveal">
          <h3>Can I access a demo of TalentOS™?</h3>
          <p>
            Absolutely. Schedule a call with our team and we'll provide a guided
            tour of the platform and discuss how it fits your needs.
          </p>
        </div>

        <div class="faq-item reveal">
          <h3>What makes Sustainable Talent different?</h3>
          <p>
            We combine human-led recruiting operations with platform-driven
            visibility. You get experienced talent operators and transparent,
            real-time program data.
          </p>
        </div>

        <div class="faq-item reveal">
          <h3>Do you work with startups or only enterprises?</h3>
          <p>
            While we specialize in enterprise programs, we work with
            growth-stage companies that have structured talent needs and are
            ready for scalable operations.
          </p>
        </div>
      </div>
    </div>
  </section>
</MainLayout>

<style>
  /* Container */
  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 24px;
  }

  /* Hero */
  .hero {
    padding: 120px 0 80px;
    background: var(--bg-section);
    text-align: center;
    position: relative;
    overflow: hidden;
  }

  .hero::before {
    content: "";
    position: absolute;
    inset: -50%;
    background: linear-gradient(
      120deg,
      rgba(99, 102, 241, 0.08) 0%,
      transparent 62%
    );
    pointer-events: none;
    z-index: 0;
  }

  .hero-content {
    max-width: 700px;
    margin: 0 auto;
    position: relative;
    z-index: 1;
  }

  .pill {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    padding: 7px 10px;
    border-radius: 999px;
    border: 1px solid var(--border-light);
    background: rgba(255, 255, 255, 0.8);
    color: var(--text-secondary);
    font-size: 12px;
    letter-spacing: 0.6px;
    text-transform: uppercase;
    box-shadow: 0 4px 12px rgba(15, 23, 42, 0.04);
  }

  .subhead {
    margin: 16px 0 0;
    color: var(--text-secondary);
    font-size: 18px;
    max-width: 78ch;
  }

  /* Sections */
  .section {
    padding: 96px 0;
    background: var(--bg-section);
  }

  .section.light {
    background: var(--bg-page);
    position: relative;
  }

  .section.light::before {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(
      circle at 20% 20%,
      rgba(99, 102, 241, 0.02),
      transparent 50%
    );
    pointer-events: none;
    z-index: 0;
  }

  /* Contact Grid */
  .contact-grid {
    display: grid;
    grid-template-columns: 1.5fr 1fr;
    gap: 64px;
    align-items: start;
    position: relative;
    z-index: 1;
  }

  /* Contact Form */
  .contact-form-wrapper {
    padding: 48px;
    border-radius: 28px;
    border: 1px solid var(--border-light);
    background: var(--bg-glass);
    box-shadow: 0 28px 70px rgba(15, 23, 42, 0.1);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    position: relative;
    overflow: hidden;
  }

  .contact-form-wrapper::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(99, 102, 241, 0.15) 50%,
      transparent
    );
    opacity: 0.5;
    z-index: 1;
  }

  .contact-form-wrapper h2 {
    font-size: 32px;
    margin-bottom: 12px;
    position: relative;
    z-index: 1;
  }

  .form-intro {
    color: var(--text-secondary);
    margin-bottom: 32px;
    position: relative;
    z-index: 1;
  }

  .contact-form {
    display: flex;
    flex-direction: column;
    gap: 24px;
    position: relative;
    z-index: 1;
  }

  .form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16px;
  }

  .form-group {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .form-group label {
    font-size: 14px;
    font-weight: 600;
    color: var(--text-primary);
  }

  .form-group input,
  .form-group select,
  .form-group textarea {
    padding: 12px 16px;
    border-radius: 999px;
    border: 1px solid var(--border-light);
    background: rgba(255, 255, 255, 0.85);
    font-size: 15px;
    color: var(--text-primary);
    transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    font-family: inherit;
    box-shadow: 0 4px 12px rgba(15, 23, 42, 0.04);
  }

  .form-group select {
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%236366f1' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 16px center;
    background-size: 18px;
    padding-right: 48px;
    cursor: pointer;
  }

  .form-group select option {
    background: white;
    color: var(--text-primary);
    padding: 12px;
  }

  .form-group textarea {
    border-radius: 16px;
    resize: vertical;
    min-height: 120px;
  }

  .form-group input:focus,
  .form-group select:focus,
  .form-group textarea:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow:
      0 4px 12px rgba(99, 102, 241, 0.08),
      0 0 0 3px rgba(99, 102, 241, 0.06),
      inset 0 1px 0 rgba(255, 255, 255, 0.8);
    background: rgba(255, 255, 255, 0.95);
    transform: translateY(-1px);
  }

  .form-group input::placeholder,
  .form-group textarea::placeholder {
    color: var(--text-muted);
  }

  .submit-btn {
    width: 100%;
    padding: 14px;
    margin-top: 8px;
    border-radius: 999px;
    border: none;
    background: var(--accent);
    color: white;
    font-weight: 600;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 16px 30px rgba(99, 102, 241, 0.18);
    position: relative;
    overflow: hidden;
  }

  .submit-btn::after {
    content: "";
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.2),
      transparent
    );
    transition: left 0.5s ease;
  }

  .submit-btn:hover::after {
    left: 100%;
  }

  .submit-btn:hover {
    filter: brightness(0.95);
    box-shadow: 0 20px 40px rgba(99, 102, 241, 0.25);
    transform: translateY(-1px);
  }

  .form-note {
    font-size: 13px;
    color: var(--text-muted);
    text-align: center;
    margin-top: -8px;
  }

  .form-note a {
    color: var(--accent);
    text-decoration: none;
    transition: all 0.2s ease;
  }

  .form-note a:hover {
    text-decoration: underline;
  }

  /* Contact Info Cards */
  .contact-info {
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  .info-card {
    display: flex;
    gap: 20px;
    padding: 28px;
    border-radius: 24px;
    border: 1px solid var(--border-light);
    background: var(--bg-glass);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    box-shadow: 0 20px 40px rgba(15, 23, 42, 0.08);
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
  }

  .info-card::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(99, 102, 241, 0.15) 50%,
      transparent
    );
    opacity: 0.5;
    z-index: 1;
  }

  .info-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 24px 48px rgba(15, 23, 42, 0.12);
    border-color: rgba(99, 102, 241, 0.12);
  }

  .info-icon {
    width: 48px;
    height: 48px;
    flex-shrink: 0;
    border-radius: 12px;
    background: rgba(99, 102, 241, 0.08);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--accent);
    transition: all 0.3s ease;
  }

  .info-card:hover .info-icon {
    background: rgba(99, 102, 241, 0.12);
    transform: scale(1.05);
  }

  .info-content {
    position: relative;
    z-index: 1;
  }

  .info-content h3 {
    font-size: 18px;
    margin-bottom: 8px;
    color: var(--text-primary);
  }

  .info-content p {
    font-size: 14px;
    color: var(--text-secondary);
    margin-bottom: 8px;
    line-height: 1.6;
  }

  .info-content a {
    font-size: 15px;
    font-weight: 600;
    color: var(--accent);
    text-decoration: none;
    transition: all 0.2s ease;
    position: relative;
  }

  .info-content a::after {
    content: "";
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 0;
    height: 2px;
    background: var(--accent);
    border-radius: 999px;
    transition: width 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .info-content a:hover::after {
    width: 100%;
  }

  /* FAQ */
  .kicker {
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.8px;
    font-size: 12px;
    margin: 0 0 10px;
  }

  .faq-header {
    text-align: center;
    margin-bottom: 64px;
    position: relative;
    z-index: 1;
  }

  .faq-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    max-width: 1000px;
    margin: 0 auto;
    position: relative;
    z-index: 1;
  }

  .faq-item {
    padding: 32px;
    border-radius: 24px;
    border: 1px solid var(--border-light);
    background: var(--bg-glass);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    box-shadow: 0 20px 40px rgba(15, 23, 42, 0.08);
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
  }

  .faq-item::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(99, 102, 241, 0.15) 50%,
      transparent
    );
    opacity: 0.5;
    z-index: 1;
  }

  .faq-item:hover {
    transform: translateY(-2px);
    box-shadow: 0 24px 48px rgba(15, 23, 42, 0.1);
    border-color: rgba(99, 102, 241, 0.12);
  }

  .faq-item h3 {
    font-size: 18px;
    margin-bottom: 12px;
    color: var(--text-primary);
    position: relative;
    z-index: 1;
  }

  .faq-item p {
    font-size: 15px;
    color: var(--text-secondary);
    line-height: 1.6;
    position: relative;
    z-index: 1;
  }

  /* Buttons */
  .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    padding: 11px 14px;
    border-radius: 999px;
    font-weight: 600;
    font-size: 14px;
    border: 1px solid var(--border-light);
    background: rgba(255, 255, 255, 0.85);
    color: var(--text-primary);
    transition: all 0.2s ease;
    cursor: pointer;
    white-space: nowrap;
    box-shadow: 0 8px 18px rgba(15, 23, 42, 0.06);
    text-decoration: none;
  }

  .btn:hover {
    transform: translateY(-1px);
    background: rgba(255, 255, 255, 0.95);
    border-color: rgba(15, 23, 42, 0.12);
  }

  .btn.primary {
    border: none;
    background: var(--accent);
    color: #fff;
    box-shadow: 0 16px 30px rgba(99, 102, 241, 0.18);
  }

  .btn.primary:hover {
    filter: brightness(0.96);
    transform: translateY(-1px);
  }

  /* Reveal Animation */
  .reveal {
    opacity: 0;
    transform: translateY(14px);
    transition:
      opacity 0.7s ease,
      transform 0.7s ease;
    will-change: opacity, transform;
  }

  .reveal.in {
    opacity: 1;
    transform: translateY(0);
  }

  /* Responsive */
  @media (max-width: 1024px) {
    .contact-grid {
      grid-template-columns: 1fr;
      gap: 48px;
    }

    .faq-grid {
      grid-template-columns: 1fr;
    }
  }

  @media (max-width: 640px) {
    .hero {
      padding: 80px 0 60px;
    }

    .contact-form-wrapper {
      padding: 32px 24px;
    }

    .form-row {
      grid-template-columns: 1fr;
    }

    .info-card {
      flex-direction: column;
    }

    .faq-item {
      padding: 24px;
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .reveal {
      opacity: 1;
      transform: none;
      transition: none;
    }

    .info-card,
    .faq-item,
    .submit-btn,
    .form-group input,
    .form-group select,
    .form-group textarea {
      transition: none;
    }
  }

  /* Contact Grid */
  .contact-grid {
    display: grid;
    grid-template-columns: 1.5fr 1fr;
    gap: 64px;
    align-items: center; /* Changed from 'start' to 'center' */
    position: relative;
    z-index: 1;
  }
</style>

<!-- <script>
  // Reveal on scroll
  const els = document.querySelectorAll(".reveal");
  const io = new IntersectionObserver(
    (entries) => {
      entries.forEach((e) => {
        if (e.isIntersecting) {
          e.target.classList.add("in");
          io.unobserve(e.target);
        }
      });
    },
    { threshold: 0.12 },
  );
  els.forEach((el) => io.observe(el));

  // Form submission
  const form = document.getElementById("contactForm") as HTMLFormElement;

  form?.addEventListener("submit", (e) => {
    e.preventDefault();

    const formData = new FormData(form);
    const data = Object.fromEntries(formData);

    console.log("Form submitted:", data);

    // In production, this would send to your backend
    alert(
      "Thank you for your message! We'll get back to you within 24 hours.\n\n(This is a demo - no actual message was sent)",
    );

    form.reset();
  });
</script> -->

<script>
  // Reveal on scroll
  const els = document.querySelectorAll('.reveal');
  const io = new IntersectionObserver((entries) => {
    entries.forEach((e) => {
      if (e.isIntersecting) {
        e.target.classList.add('in');
        io.unobserve(e.target);
      }
    });
  }, { threshold: 0.12 });
  els.forEach(el => io.observe(el));

  // Form submission
  const hubspotForm = document.getElementById("hubspotForm");
  const formStatus = document.getElementById("formStatus");

  hubspotForm?.addEventListener("submit", async (e) => {
    e.preventDefault();
    const submitBtn = hubspotForm.querySelector('.submit-btn');
    if (submitBtn) {
        submitBtn.disabled = true;
        submitBtn.textContent = 'Sending...';
    }

    const formData = new FormData(hubspotForm);
    const portalId = "45991915";
    const formId = "2cd67c3b-8381-4b27-8d63-12e2b2636e34";
    const url = `https://api.hsforms.com/submissions/v3/integration/submit/${portalId}/${formId}`;

    // Map FormData to HubSpot fields structure
    const fields = [];
    for (const [name, value] of formData.entries()) {
      fields.push({ name, value });
    }

    const payload = {
      fields,
      context: {
        pageUri: window.location.href,
        pageName: document.title
      }
    };

    try {
      const response = await fetch(url, {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify(payload)
      });

      if (response.ok) {
        if (formStatus) {
            formStatus.style.display = 'block';
            formStatus.style.color = 'green';
            formStatus.textContent = 'Thank you! Your submission has been received.';
        }
        hubspotForm.reset();
      } else {
        const errorData = await response.json();
        console.error("HubSpot submission error:", errorData);
         if (formStatus) {
            formStatus.style.display = 'block';
            formStatus.style.color = 'red';
            formStatus.textContent = 'Something went wrong. Please try again.';
        }
      }
    } catch (error) {
      console.error("Network error:", error);
       if (formStatus) {
            formStatus.style.display = 'block';
            formStatus.style.color = 'red';
            formStatus.textContent = 'Network error. Please check your connection.';
        }
    } finally {
        if (submitBtn) {
            submitBtn.disabled = false;
            submitBtn.textContent = 'Submit';
        }
    }
  });
</script>
